<!DOCTYPE html>
<html lang="de" >
<head>
  <meta charset="UTF-8">
  <title>Auswahl der Wahlpflichtfächer</title>

</head>
<body>
<form action="" method="post" id="zaehlen" accept-charset="UTF-8">
<br></br>
<table>
    <thead>
        <tr>
            <th>Auswahl</th>
            <th>Wahlpflichtfächer</th>
            <th>Credit Points</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>
                <input class="checkbox" type="checkbox"/>
            </td>
            <td>
                <input readonly 
                cam-variable-name="fach1"
                cam-variable-type="String"
                type="text"/>
            </td>

            <td>
                <input  
                cam-variable-name="cp1"
                cam-variable-type="Long"
                type="text" class="anzahlcp"/>
            </td>
        </tr>

        <tr>
            <td>
                <input class="checkbox" type="checkbox"/>
            </td>
            <td>
                <input readonly 
                cam-variable-name="fach2"
                cam-variable-type="String"
                type="text"/>
            </td>

            <td>
                <input  
                cam-variable-name="cp2"
                cam-variable-type="Long"
                type="text" class="anzahlcp"/>
            </td>
        </tr>

        <tr>
            <td>
                <input class="checkbox" type="checkbox"/>
            </td>
            <td>
                <input readonly 
                cam-variable-name="fach3"
                cam-variable-type="String"
                type="text"/>
            </td>

            <td>
                <input  
                cam-variable-name="cp3"
                cam-variable-type="Long"
                type="text" class="anzahlcp"/>
            </td>
        </tr>

        <tr>
            <td>
                <input class="checkbox" type="checkbox"/>
            </td>
            <td>
                <input readonly 
                cam-variable-name="fach4"
                cam-variable-type="String"
                type="text"/>
            </td>

            <td>
                <input   
                cam-variable-name="cp4"
                cam-variable-type="Long"
                type="text" class="anzahlcp"/>
            </td>
           
        </tr>
        <tr>
             <td>
                <strong>Summe</strong>
            </td>
             <td>
                 <input readonly
                 cam-variable-name="anzahlfach"
                 cam-variable-type="Long"
                 id="anzahl-wpfs" 
                 type="number" 
                 name="count-checked-checkboxes" />
            </td>
            <td>
                <input type="number" 
                cam-variable-name="summecp"
                cam-variable-type="Long" 
                class="total" value="" />
            </td>
        </tr>

    </tbody>
</table>
<br></br>


<table>
    <thead>
        <tr>
            
            <th>Semester Nr.</th>
            <th>Matrikelnummer</th>
        </tr>
    </thead>
    <tbody>
        <tr>
           
            <td>
                <input  
                cam-variable-name="semester"
                cam-variable-type="Long"
                type="number" placeholder="2 oder 3" />
            </td>

            <td>
                <input  
                cam-variable-name="matrikel"
                cam-variable-type="Long"
                type="number" placeholder="Matrikelnummer" />
            </td>
        </tr>
            </tbody>
</table>



<br></br>

<strong>Anmeldezeitpunkt</strong>
 <div id="Datum" cam-variable-name="anmeldedatum"
            cam-variable-type="Date" value="2018-07-05T13:42:42"></div>


<input  
            cam-variable-name="anmeldedatum"
            cam-variable-type="Date"
            type="hidden" value="2018-07-05T13:42:42"/>

<script> var d = new Date();;
document.getElementById('Datum').innerHTML = d;
</script>

</form>

  <script src='http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>

  

    <script>
$(document).ready(function(){

    var $checkboxes = $('#zaehlen td input[type="checkbox"]');
        
    $checkboxes.change(function(){
        var countCheckedCheckboxes = $checkboxes.filter(':checked').length;
        $('#count-checked-checkboxes').text(countCheckedCheckboxes);
        
        $('#anzahl-wpfs').val(countCheckedCheckboxes);
    });

});

    </script>

<script>
$(document).ready(function(){
    var sum = 0;

    $('#zaehlen table tr').each(function(){
    	var row = $(this);
        $(this).find('.checkbox').on('change',function() {
    	    if ($(this).is(':checked')) {
    	    	sum += Number(row.find('.anzahlcp').val());
            } else {
				sum -= Number(row.find('.anzahlcp').val());
            }
			$(".total").val(sum);
        })
    });
});

</script>


</body>

</html>
